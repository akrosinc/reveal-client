{
  "count": "1",
  "encounter_type": "Spray",
  "entity_id": "",
  "metadata": {
    "start": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "start",
      "openmrs_entity_id": "163137AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "end": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "end",
      "openmrs_entity_id": "163138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "today": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "encounter",
      "openmrs_entity_id": "encounter_date"
    },
    "deviceid": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "deviceid",
      "openmrs_entity_id": "163149AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "subscriberid": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "subscriberid",
      "openmrs_entity_id": "163150AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "simserial": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "simserial",
      "openmrs_entity_id": "163151AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "phonenumber": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "phonenumber",
      "openmrs_entity_id": "163152AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "encounter_location": ""
  },
  "step1": {
    "title": "Record Spray Status",
    "display_back_button": "true",
    "fields": [
      {
        "key": "visit_number",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "native_radio",
        "label": "First visit or mop-up",
        "options": [
          {
            "key": "First",
            "text": "First"
          },
          {
            "key": "Mop-up",
            "text": "Mop-up"
          }
        ],
        "value": "First"
      },
      {
        "key": "any_sprayed",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "native_radio",
        "label": "Were any structures sprayed?",
        "options": [
          {
            "key": "Yes",
            "text": "Yes"
          },
          {
            "key": "No",
            "text": "No"
          }
        ],
        "value": "No"
      },
      {
        "key": "prev_closed_open",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "native_radio",
        "label": "Was this household previously open or closed?",
        "options": [
          {
            "key": "Open",
            "text": "Open"
          },
          {
            "key": "Closed",
            "text": "Closed"
          }
        ],
        "value": "Open",
        "relevance": {
          "step1:visit_number": {
            "type": "string",
            "ex": "equalTo(., \"Mop-up\")"
          }
        }
      },
      {
        "key": "number_sprayable",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "edit_text",
        "hint": "Number of sprayable structures",
        "is_mandatory": true,
        "v_required": {
          "value": true,
          "err": "Enter Number of sprayable structures"
        },
        "v_numeric": {
          "value": "true",
          "err": "Must be a number"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "namibia-spray-relevance-rules.yml"
            }
          }
        }
      },
      {
        "key": "number_unsprayable",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "edit_text",
        "hint": "Number of unsprayable structures",
        "is_mandatory": true,
        "v_required": {
          "value": true,
          "err": "Enter Number of unsprayable structures"
        },
        "v_numeric": {
          "value": "true",
          "err": "Must be a number"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "namibia-spray-relevance-rules.yml"
            }
          }
        }
      },
      {
        "key": "numbersprayed_ddt",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "edit_text",
        "hint": "Number of structures sprayed with DDT",
        "shortened_hint": "# structures sprayed with DDT",
        "is_mandatory": true,
        "v_required": {
          "value": true,
          "err": "Enter Number of structures sprayed with DDT"
        },
        "v_numeric": {
          "value": "true",
          "err": "Must be a number"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "namibia-spray-relevance-rules.yml"
            }
          }
        }
      },
      {
        "key": "numbersprayed_delta",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "edit_text",
        "hint": "Number of structures sprayed with Delta",
        "shortened_hint": "# structures sprayed with Delta",
        "is_mandatory": true,
        "v_required": {
          "value": true,
          "err": "Enter Number of structures sprayed with Delta"
        },
        "v_numeric": {
          "value": "true",
          "err": "Must be a number"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "namibia-spray-relevance-rules.yml"
            }
          }
        }
      },
      {
        "key": "numbersprayed_actellic",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "edit_text",
        "hint": "Number of structures sprayed with Actellic",
        "shortened_hint": "# structures sprayed with Actellic",
        "is_mandatory": true,
        "v_required": {
          "value": true,
          "err": "Enter Number of structures sprayed with Actellic"
        },
        "v_numeric": {
          "value": "true",
          "err": "Must be a number"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "namibia-spray-relevance-rules.yml"
            }
          }
        }
      },
      {
        "key": "number_unsprayed",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "edit_text",
        "hint": "Number of unsprayed structures",
        "is_mandatory": true,
        "v_required": {
          "value": true,
          "err": "Enter Number of unsprayed structures"
        },
        "v_numeric": {
          "value": "true",
          "err": "Must be a number"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "namibia-spray-relevance-rules.yml"
            }
          }
        }
      },
      {
        "key": "number_unsprayed_mopup",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "edit_text",
        "hint": "Number of structures not sprayed (mop-up)",
        "shortened_hint": "# structures not sprayed (mop-up)",
        "is_mandatory": true,
        "v_required": {
          "value": true,
          "err": "Number of structures not sprayed (mop-up)"
        },
        "v_numeric": {
          "value": "true",
          "err": "Must be a number"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "namibia-spray-relevance-rules.yml"
            }
          }
        }
      },
      {
        "key": "reasons_for_not_spraying",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "check_box",
        "label": "Reason those STRUCTURES were not sprayed",
        "options": [
          {
            "key": "Refused",
            "text": "Refused"
          },
          {
            "key": "Locked/no one home",
            "text": "Locked/no one home"
          },
          {
            "key": "No adult home",
            "text": "No adult home"
          },
          {
            "key": "Unsprayable",
            "value": "Unsprayable"
          }
        ]
      },
      {
        "key": "refusal_reasons_for_not_spraying",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "check_box",
        "label": "Reason for refusal",
        "options": [
          {
            "key": "Pregnant/Newborn",
            "text": "Pregnant/Newborn"
          },
          {
            "key": "Sick",
            "text": "Sick"
          },
          {
            "key": "Does not understand",
            "text": "Does not understand"
          },
          {
            "key": "Other",
            "value": "Other"
          }
        ]
      },
      {
        "key": "refusal_reasons_for_not_spraying_comment",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "edit_text",
        "hint": "Please Explain",
        "is_mandatory": true,
        "v_required": {
          "value": true,
          "err": "Please explain reason for refusal "
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "namibia-spray-relevance-rules.yml"
            }
          }
        }
      },
      {
        "key": "house_population",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "edit_text",
        "hint": "House Population",
        "is_mandatory": true,
        "v_required": {
          "value": true,
          "err": "Enter Number of House Population"
        },
        "v_numeric": {
          "value": "true",
          "err": "Must be a number"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "namibia-spray-relevance-rules.yml"
            }
          }
        }
      },
      {
        "key": "total_population_sprayedrooms",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "edit_text",
        "hint": "Population in the visited household sleeping in sprayed rooms",
        "is_mandatory": true,
        "v_required": {
          "value": true,
          "err": "Population in the visited household sleeping in sprayed rooms"
        },
        "v_numeric": {
          "value": "true",
          "err": "Must be a number"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "namibia-spray-relevance-rules.yml"
            }
          }
        }
      },
      {
        "key": "name_household",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "edit_text",
        "hint": "Name of household",
        "is_mandatory": true,
        "v_required": {
          "value": true,
          "err": "Population in the visited household sleeping in sprayed rooms"
        },
        "v_numeric": {
          "value": "true",
          "err": "Must be a number"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "namibia-spray-relevance-rules.yml"
            }
          }
        }
      }
    ]
  }
}