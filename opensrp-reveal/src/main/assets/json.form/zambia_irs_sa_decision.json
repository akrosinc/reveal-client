{
  "count": "1",
  "encounter_type": "",
  "entity_id": "",
  "metadata": {
    "start": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "start",
      "openmrs_entity_id": ""
    },
    "end": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "end",
      "openmrs_entity_id": ""
    },
    "today": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "encounter",
      "openmrs_entity_id": "encounter_date"
    },
    "deviceid": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "deviceid",
      "openmrs_entity_id": "163149AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "subscriberid": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "subscriberid",
      "openmrs_entity_id": "163150AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "simserial": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "simserial",
      "openmrs_entity_id": "163151AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "phonenumber": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "phonenumber",
      "openmrs_entity_id": "163152AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "encounter_location": ""
  },
  "step1": {
    "title": "Enter IRS SA Decision Form",
    "display_back_button": "true",
    "fields": [
      {
        "key": "village",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "edit_text",
        "hint": "Please write the name of the Village for this Spray Area",
        "text_size": "8sp",
        "v_required": {
          "value": "true",
          "err": "Required field"
        }
      },
      {
        "key": "structures_ground",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "edit_text",
        "edit_type": "number",
        "hint": "How many structures are in this Spray Area? (structures on ground as listed on the mSpray dashboard)",
        "is_mandatory": true,
        "v_required": {
          "value": true,
          "err": "This field is mandatory"
        },
        "v_numeric": {
          "value": "true",
          "err": "This field must be a number"
        },
        "v_numeric_integer": {
          "value": "true",
          "err": "This field must be a whole number"
        },
        "v_min": {
          "value": "0",
          "err": "This field must be greater than or equal to 0"
        }
      },
      {
        "key": "structures_toreach90",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "hidden",
        "text_size": "8sp",
        "calculation": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_calculation.yml"
            }
          }
        }
      },
      {
        "key": "structures_toreach90_info",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "toaster_notes",
        "text": "To reach 90% spray effectiveness, your team must spray at least {structures_toreach90} structures.",
        "text_color": "#CF0800",
        "toaster_type": "info",
        "text_size": "8sp",
        "calculation": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_calculation.yml"
            }
          }
        }
      },
      {
        "key": "structures_sprayed",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "edit_text",
        "edit_type": "number",
        "hint": "How many structures were sprayed? (as listed on the mSpray dashboard)",
        "is_mandatory": true,
        "v_required": {
          "value": true,
          "err": "This field is mandatory"
        },
        "v_numeric": {
          "value": "true",
          "err": "This field must be a number"
        },
        "v_numeric_integer": {
          "value": "true",
          "err": "This field must be a whole number"
        },
        "v_min": {
          "value": "0",
          "err": "This field must be greater than or equal to 0"
        },
        "v_relative_max": {
          "value": "structures_ground",
          "err": "The number of structures sprayed must be less than the number of structures on the ground."
        }
      },
      {
        "key": "spray_effectiveness",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "hidden",
        "text_size": "8sp",
        "calculation": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_calculation.yml"
            }
          }
        }
      },
      {
        "key": "structures_remaining",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "hidden",
        "text_size": "8sp",
        "calculation": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_calculation.yml"
            }
          }
        }
      },
      {
        "key": "structures_tospray",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "hidden",
        "text_size": "8sp",
        "calculation": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_calculation.yml"
            }
          }
        }
      },
      {
        "key": "display2",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "toaster_notes",
        "text": " Spray effectiveness is {spray_effectiveness}% and {structures_remaining} eligible structures are still remaining. This includes both structures that have not been found and structures that were found but not sprayed. At least {structures_tospray} must still be sprayed to reach 90% spray effectiveness.",
        "text_color": "#CF0800",
        "toaster_type": "info",
        "text_size": "8sp",
        "calculation": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_calculation.yml"
            }
          }
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_relevance.yml"
            }
          }
        }
      },
















      {
        "key": "reason_noteffective",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "native_radio",
        "label": "What was the main reason for not reaching 90% spray effectiveness? (Not Found or Not Sprayed?)",
        "text_size": "8sp",
        "options": [
          {
            "key": "lowCoverage",
            "text": "Low Found Coverage"
          },
          {
            "key": "lowSuccess",
            "text": "Low Spray Success Rate"
          },
          {
            "key": "both",
            "text": "Both of the Above"
          }
        ],
        "v_required": {
          "value": "true",
          "err": "Required field"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_relevance.yml"
            }
          }
        }
      },
      {
        "key": "reasonnotsprayed",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "native_radio",
        "label": "What was the main reason contributing to Low Spray Success Rate?",
        "text_size": "8sp",
        "options": [
          {
            "key": "sick",
            "text": "Sick"
          },
          {
            "key": "locked",
            "text": "Locked"
          },
          {
            "key": "funeral",
            "text": "Funeral"
          },
          {
            "key": "refused",
            "text": "Refused"
          },
          {
            "key": "noOneHome",
            "text": "No One Home/Missed"
          },
          {
            "key": "other",
            "text": "Other"
          }
        ],
        "v_required": {
          "value": "true",
          "err": "Required field"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_relevance.yml"
            }
          }
        }
      },
      {
        "key": "mobilize",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "toaster_notes",
        "text": "Please make sure mobilization has been done well to ensure people are at home when spraying occurs.",
        "text_color": "#CF0800",
        "toaster_type": "info",
        "text_size": "8sp",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_relevance.yml"
            }
          }
        }
      },
      {
        "key": "sensitize",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "toaster_notes",
        "text": "Please make sure you've taken the appropriate steps to promote acceptance of spraying in the areas that had high refusals.",
        "text_color": "#CF0800",
        "toaster_type": "info",
        "text_size": "8sp",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_relevance.yml"
            }
          }
        }
      },
      {
        "key": "return",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "native_radio",
        "label": "Are you planning to return to this Spray Area?",
        "text_size": "8sp",
        "options": [
          {
            "key": "yes",
            "text": "Yes"
          },
          {
            "key": "no",
            "text": "No"
          }
        ],
        "v_required": {
          "value": "true",
          "err": "Required field"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_relevance.yml"
            }
          }
        }
      },
      {
        "key": "selectnotfound",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "toaster_notes",
        "text": "Please make sure the SUPs know where they can find all remaining structures that were missed.",
        "text_color": "#CF0800",
        "toaster_type": "info",
        "text_size": "8sp",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_relevance.yml"
            }
          }
        }
      },
      {
        "key": "supervisor",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "spinner",
        "hint": "Who is making this decision?",
        "values": [
          "Supervisor 1",
          "Supervisor 2",
          "Supervisor 3",
          "Supervisor 4",
          "Supervisor 5",
          "Supervisor 6",
          "Supervisor 7",
          "Supervisor 8",
          "Supervisor 9",
          "Supervisor 10",
          "Supervisor 11",
          "Supervisor 12",
          "Supervisor 13",
          "Supervisor 14",
          "Supervisor 15",
          "Supervisor 16",
          "Supervisor 17",
          "Supervisor 18",
          "Supervisor 19",
          "Supervisor 20",
          "Supervisor 21",
          "Supervisor 22",
          "Supervisor 23",
          "Supervisor 24",
          "Supervisor 25",
          "Supervisor 26",
          "Supervisor 27",
          "Supervisor 28",
          "Supervisor 29",
          "Supervisor 30",
          "Supervisor 31",
          "Supervisor 32",
          "Supervisor 33",
          "Supervisor 34",
          "Supervisor 35",
          "Supervisor 36"
        ],
        "keys": [
          "S1",
          "S2",
          "S3",
          "S4",
          "S5",
          "S6",
          "S7",
          "S8",
          "S9",
          "S10",
          "S11",
          "S12",
          "S13",
          "S14",
          "S15",
          "S16",
          "S17",
          "S18",
          "S19",
          "S20",
          "S21",
          "S22",
          "S23",
          "S24",
          "S25",
          "S26",
          "S27",
          "S28",
          "S29",
          "S30",
          "S31",
          "S32",
          "S33",
          "S34",
          "S35",
          "S36"
        ],
        "v_required": {
          "value": "true",
          "err": "This field is required."
        }
      },
      {
        "key": "number_returning_tlas",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "edit_text",
        "edit_type": "number",
        "hint": "How many SUP teams need to return to this Spray Area?",
        "is_mandatory": true,
        "v_required": {
          "value": true,
          "err": "This field is mandatory"
        },
        "v_numeric": {
          "value": "true",
          "err": "This field must be a number"
        },
        "v_numeric_integer": {
          "value": "true",
          "err": "This field must be a whole number"
        },
        "v_min": {
          "value": "0",
          "err": "This field must be greater than or equal to 0"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_relevance.yml"
            }
          }
        }
      },
      {
        "key": "reason_notreturning",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "edit_text",
        "hint": "Please provide a valid reason for not returning to ensure this Spray Area is being Sprayed Effectively.",
        "text_size": "8sp",
        "v_required": {
          "value": "true",
          "err": "Required field"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_relevance.yml"
            }
          }
        }
      },





      {
        "key": "display3",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "toaster_notes",
        "text": " Spray effectiveness is {spray_effectiveness}%. Congratulations this area was sprayed effectively!",
        "text_color": "#CF0800",
        "toaster_type": "info",
        "text_size": "8sp",
        "calculation": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_calculation.yml"
            }
          }
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "zambia_irs_sa_decision_relevance.yml"
            }
          }
        }
      }
    ]
  }
}